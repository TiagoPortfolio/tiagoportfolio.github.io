(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){t.exports=a.p+"static/media/refresh-button.ffa7f36b.svg"},14:function(t,e,a){t.exports=a(27)},20:function(t,e,a){},24:function(t,e,a){},27:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),o=a(11),s=a.n(o),c=(a(20),a(4)),i=a(1),u=a.n(i),l=a(3),p=a(5),m=a(6),h=a(9),d=a(7),f=a(8),b=a(2),v=(a(24),a(12)),g=function(t){var e=t.totalColumns,a=Math.random()*(1-.7)+.7;return r.a.createElement(v.a,{height:40,width:1060,speed:2,primaryColor:"#d9d9d9",secondaryColor:"#ecebeb"},Array(e).fill("").map(function(t,n){return r.a.createElement("rect",{x:1060*(1/e+.5*n)/2-100*a/2,y:"13",rx:"6",ry:"6",width:100*a,height:"12",key:n})}),r.a.createElement("rect",{x:"0",y:"39",rx:"6",ry:"6",width:"1060",height:".3"}))},y=function(t){var e=t.totalColumns;return r.a.createElement(r.a.Fragment,null,Array(5).fill("").map(function(t,a){return r.a.createElement(g,{key:a,totalColumns:e})}))},w=function(t){var e=t.columns,a=t.data,n=t.isLoading,o=t.error;return r.a.createElement("div",{className:"table"},r.a.createElement("table",null,r.a.createElement("thead",{className:"table-header"},r.a.createElement("tr",null,e.map(function(t,e){return r.a.createElement("th",{key:e},t)}))),r.a.createElement("tbody",null,!n&&o&&r.a.createElement("tr",null,r.a.createElement("td",null,o)),!n&&a.map(function(t,e){return r.a.createElement("tr",{key:e},t.map(function(t,e){return r.a.createElement("td",{key:e},"img"===t.type?r.a.createElement("img",{src:t.data,alt:"User Avatar",className:"user_avatar"}):t.data)}))}))),n&&r.a.createElement(y,{totalColumns:e.length}))},j=a(13),E=a.n(j),k=function(t){var e=t.id,a=t.className,n=t.name,o=t.clickHandler,s=t.isLoading;return r.a.createElement("div",{id:e,className:a,onClick:o},r.a.createElement("img",{src:E.a,alt:"Refresh",className:"button_logo "+(s?"spin":"")}),s?"Refreshing...":n)},O=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(h.a)(this,Object(d.a)(e).call(this,t))).state={data:[],isLoading:!0},a.updateTable=a.updateTable.bind(Object(b.a)(Object(b.a)(a))),a}return Object(f.a)(e,t),Object(m.a)(e,[{key:"componentDidMount",value:function(){var t=this;this.updateTable(),this.interval=setInterval(function(){return t.updateTable()},12e4)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"updateTable",value:function(){var t=Object(l.a)(u.a.mark(function t(){var e;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.setState(function(t){return Object(c.a)({},t,{isLoading:!0})}),t.next=3,this.props.updateTable();case 3:(e=t.sent)?this.setState(function(t){return Object(c.a)({},t,{data:e,isLoading:!1})}):this.setState(function(t){return Object(c.a)({},t,{isLoading:!1})});case 5:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.props,e=t.columns,a=t.buttonDetails,n=t.tableName,o=t.error;return r.a.createElement("div",{className:"table_container"},r.a.createElement("div",{className:"table_container_header"},r.a.createElement("h2",null,n),r.a.createElement(k,Object.assign({},a,{clickHandler:this.updateTable,isLoading:this.state.isLoading}))),r.a.createElement(w,{columns:e,data:this.state.data,isLoading:this.state.isLoading,error:o}))}}]),e}(n.Component),L=function(){var t=new Date;return t.setMonth(t.getMonth()-1),t.setDate(1),t.toISOString().split("T")[0]}(),x="".concat("https://api.github.com/","search/repositories"),T="".concat("https://api.github.com/","search/users");var M=function(t){function e(t){var a;return Object(p.a)(this,e),(a=Object(h.a)(this,Object(d.a)(e).call(this,t))).state={error:null},a.getTopReposFromLastMonth=a.getTopReposFromLastMonth.bind(Object(b.a)(Object(b.a)(a))),a.getTopUsersFromLastMonth=a.getTopUsersFromLastMonth.bind(Object(b.a)(Object(b.a)(a))),a}return Object(f.a)(e,t),Object(m.a)(e,[{key:"getTopReposFromLastMonth",value:function(){var t=Object(l.a)(u.a.mark(function t(){var e,a,n,r;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],a=["q=created:>=".concat(L),"sort=stars","order=desc","per_page=".concat(5)],n="".concat(x,"?").concat(a.join("&")),t.next=5,this.fetchData(n);case 5:return(r=t.sent)&&r.items&&(e=r.items.map(function(t){return[{data:t.id,type:"int"},{data:t.name,type:"string"},{data:t.description,type:"string"},{data:t.stargazers_count,type:"int"}]})),t.abrupt("return",e);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"getTopUsersFromLastMonth",value:function(){var t=Object(l.a)(u.a.mark(function t(){var e,a,n,r,o,s=this;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=[],a=["q=created:>=".concat(L),"sort=followers","order=desc","per_page=".concat(5)],n="".concat(T,"?").concat(a.join("&")),t.next=5,this.fetchData(n);case 5:if(!(r=t.sent)){t.next=10;break}if(!r.items){t.next=10;break}return o=r.items.map(function(){var t=Object(l.a)(u.a.mark(function t(e){var a,n;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.fetchData(e.url);case 2:return a=t.sent,n=a.followers,t.abrupt("return",[{data:e.id,type:"int"},{data:e.login,type:"string"},{data:e.avatar_url,type:"img"},{data:n,type:"int"}]);case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()),t.abrupt("return",Promise.all(o));case 10:return t.abrupt("return",e);case 11:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"fetchData",value:function(){var t=Object(l.a)(u.a.mark(function t(e){var a;return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch(e,{method:"get",headers:{Accept:"application/vnd.github.v3+json"}});case 3:if((a=t.sent).ok){t.next=8;break}throw new Error("Something went wrong... Please try again later!");case 8:this.setState(function(t){return Object(c.a)({},t,{error:null})});case 9:return t.next=11,a.json();case 11:return t.abrupt("return",t.sent);case 14:t.prev=14,t.t0=t.catch(0),console.log(t.t0),console.log(t.t0.message),this.setState(function(e){return Object(c.a)({},e,{error:t.t0.message})});case 19:case"end":return t.stop()}},t,this,[[0,14]])}));return function(e){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.error;return r.a.createElement("div",{className:"App"},r.a.createElement(O,{updateTable:this.getTopReposFromLastMonth,columns:["ID","Name","Description","Stars"],tableName:"Github Repositories With Most Stars of Last Month",buttonDetails:{id:"hot_repo",className:"table_button",name:"Refresh"},error:t}),r.a.createElement(O,{updateTable:this.getTopUsersFromLastMonth,columns:["ID","Login","Avatar","Followers"],tableName:"Most Active Users by Followers From Last Month",buttonDetails:{id:"prolific_users",className:"table_button",name:"Refresh"},error:t}))}}]),e}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(M,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[14,2,1]]]);
//# sourceMappingURL=main.fe524b37.chunk.js.map