(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),c=n(5),i=n(4),l=n(6),o=n(0),s=n.n(o),u=n(8),m=n.n(u),h=(n(17),n(1)),v=n(10),f=function(e){var t=e.subscriptions.map(function(e,t){return s.a.createElement("li",{key:t},s.a.createElement("span",null,e.name),s.a.createElement("h3",null,e.price?s.a.createElement(s.a.Fragment,null,(e.price/100).toFixed(2),s.a.createElement("sup",null,"\u20ac")):s.a.createElement(s.a.Fragment,null,"Free",s.a.createElement("sup",null))))});return s.a.createElement("ul",null,t)},E=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).state={opacity:0},n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout(function(){return e.setState({opacity:1})},100)}},{key:"render",value:function(){var e=this.props.event.categories.map(function(e,t){return s.a.createElement("span",{key:t},e)}).reduce(function(e,t){return[e," / ",t]});return s.a.createElement("div",{className:"event-item",style:Object(v.a)({},this.state)},s.a.createElement("div",{className:"box-info"},s.a.createElement("div",{className:"box-info--content"},s.a.createElement("div",{className:"description"},s.a.createElement("h1",null,this.props.event.name),s.a.createElement("p",null,this.props.event.description)),s.a.createElement("div",{className:"tags"},e)),s.a.createElement("div",{className:"box-info--footer"},s.a.createElement(f,{subscriptions:this.props.event.subscriptions}))))}}]),t}(o.Component),d=n(9),g=function(e){return s.a.createElement(d.a,Object.assign({height:173,width:1141,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#4bc3c9",ariaLabel:"Loading Events..."},e),s.a.createElement("rect",{x:"29",y:"22.67",rx:"4",ry:"4",width:"115.83",height:"15.21"}),s.a.createElement("rect",{x:"30",y:"55.67",rx:"4",ry:"4",width:"440.72",height:"11.08"}),s.a.createElement("rect",{x:"987.69",y:"25.67",rx:"4",ry:"4",width:"125.19",height:"10.37"}),s.a.createElement("rect",{x:"30",y:"115.15",rx:"4",ry:"4",width:"370.07",height:"14.92"}))},p=function(e){var t=e.events,n=e.page,a=e.pageLimit,r=[];if(e.isLoading)for(var c=0;c<a;c++)r[c]=s.a.createElement("li",{key:c},s.a.createElement(g,null));else r=t.slice((n-1)*a,n*a).map(function(e){return s.a.createElement("li",{key:e.id},s.a.createElement(E,{event:e}))});return s.a.createElement("ul",null,r)},y=function(e){for(var t=e.page,n=e.pageLimit,a=e.totalEvents,r=e.changePage,c=Math.ceil(a/n),i=[],l=function(e){i[e]=s.a.createElement("li",{key:e,className:e===t?"active":""},s.a.createElement("a",{href:"#",onClick:function(){return r(e)}},e))},o=1;o<=c;o++)l(o);return s.a.createElement("ul",{className:"pagination"},s.a.createElement("li",{className:1===t?"hide":""},s.a.createElement("a",{href:"#",onClick:function(){return r(Math.max(1,t-1))}},"<")),i,s.a.createElement("li",{className:t!==c&&a?"":"hide"},s.a.createElement("a",{href:"#",onClick:function(){return r(Math.min(4,t+1))}},">")))},b=function(e){var t=e.eventSearchTerm,n=e.searchEvent;return s.a.createElement("header",null,s.a.createElement("input",{type:"text",placeholder:"Search by event",value:t,onChange:n}))},C=["Dance","Entertainment","Festival","Museums","Music","Theatre"],j=function(e){var t=e.currentCategory,n=e.filterCategory;return s.a.createElement("nav",{className:"nav-categories"},s.a.createElement("h2",null,"Categories"),s.a.createElement("ul",{className:"nav-menu"},C.map(function(e,a){return s.a.createElement("li",{key:a,className:t===e?"active":""},s.a.createElement("a",{href:"#",onClick:function(){return n(e)}},e))})))},O=function(e){var t=e.events,n=e.eventsearchTerm,a=e.currentCategory,r=e.isLoading;if(t.length||r)return null;var c=["No results found"];return n&&c.push(" for ",s.a.createElement("em",{key:"1"},'"',n,'"')),a&&c.push(" in ",s.a.createElement("strong",{key:"2"},a)),c.push("."),s.a.createElement("span",null,c)},k=function(e){var t=e.error,n=e.children;return t?s.a.createElement("p",null,t.message):n},S=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).filterEvents=function(e,t,n){return e.filter(function(e){return(!t||e.name.toLowerCase().includes(t))&&(!n||e.categories.includes(n))})},n.sortEvents=function(e){return e.sort(function(e,t){return e.subscriptions.reduce(function(e,t){return e+t.price},0)-t.subscriptions.reduce(function(e,t){return e+t.price},0)})},n.handleCategoryFilter=function(e){n.setState(function(t,a){var r=e===t.currentCategory?"":e;return{eventsFound:n.filterEvents(t.events,t.eventSearchTerm,r),currentCategory:r,page:1}})},n.handleEventSearch=function(e){var t=e.target.value.toLowerCase();n.setState(function(e,a){return{eventsFound:n.filterEvents(e.events,t,e.currentCategory),eventSearchTerm:t,page:1}})},n.handlePagination=function(e){n.setState({page:e})},n.state={events:[],eventsFound:[],page:1,currentCategory:"",eventSearchTerm:"",isLoading:!1,error:null},n.handleEventSearch=n.handleEventSearch.bind(Object(h.a)(Object(h.a)(n))),n.handleCategoryFilter=n.handleCategoryFilter.bind(Object(h.a)(Object(h.a)(n))),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("https://tiagoportfolio.github.io/data/events.json").then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong...")}).then(function(t){var n=e.sortEvents(t);e.setState({events:n,eventsFound:n,isLoading:!1})}).catch(function(t){return e.setState({error:t,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.eventsFound,n=e.page,a=e.eventSearchTerm,r=e.currentCategory,c=e.isLoading,i=e.error;return s.a.createElement("div",{className:"flex-container"},s.a.createElement(j,{filterCategory:this.handleCategoryFilter,currentCategory:r}),s.a.createElement("section",{className:"events-list"},s.a.createElement(b,{searchEvent:this.handleEventSearch,eventSearchTerm:a}),s.a.createElement(k,{error:i},s.a.createElement(p,{events:t,page:n,pageLimit:3,isLoading:c}),s.a.createElement(O,{events:t,eventSearchTerm:a,currentCategory:r,isLoading:c})),s.a.createElement(y,{page:n,pageLimit:3,totalEvents:t.length,changePage:this.handlePagination})))}}]),t}(o.Component);n.d(t,"default",function(){return w});var w=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return s.a.createElement(S,null)}}]),t}(o.Component);m.a.render(s.a.createElement(w,null),document.getElementById("root"))}},[[11,2,1]]]);
//# sourceMappingURL=main.ee6e1279.chunk.js.map