(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,n){e.exports=n(19)},16:function(e,t,n){},19:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(3),c=n(5),i=n(4),l=n(6),o=n(0),u=n.n(o),s=n(8),m=n.n(s),h=(n(16),n(1)),v=function(e){var t=e.subscriptions.map(function(e,t){return u.a.createElement("li",{key:t},u.a.createElement("span",null,e.name),u.a.createElement("h3",null,e.price?u.a.createElement(u.a.Fragment,null,(e.price/100).toFixed(2),u.a.createElement("sup",null,"\u20ac")):u.a.createElement(u.a.Fragment,null,"Free",u.a.createElement("sup",null))))});return u.a.createElement("ul",null,t)},E=function(e){var t=e.event,n=t.categories.map(function(e,t){return u.a.createElement("span",{key:t},e)}).reduce(function(e,t){return[e," / ",t]});return u.a.createElement("div",{className:"event-item"},u.a.createElement("div",{className:"box-info"},u.a.createElement("div",{className:"box-info--content"},u.a.createElement("div",{className:"description"},u.a.createElement("h1",null,t.name),u.a.createElement("p",null,t.description)),u.a.createElement("div",{className:"tags"},n)),u.a.createElement("div",{className:"box-info--footer"},u.a.createElement(v,{subscriptions:t.subscriptions}))))},f=n(9),g=function(e){return u.a.createElement(f.a,Object.assign({height:173,width:1141,speed:2,primaryColor:"#f3f3f3",secondaryColor:"#4bc3c9",ariaLabel:"Loading Events..."},e),u.a.createElement("rect",{x:"29",y:"22.67",rx:"4",ry:"4",width:"115.83",height:"15.21"}),u.a.createElement("rect",{x:"30",y:"55.67",rx:"4",ry:"4",width:"440.72",height:"11.08"}),u.a.createElement("rect",{x:"987.69",y:"25.67",rx:"4",ry:"4",width:"125.19",height:"10.37"}),u.a.createElement("rect",{x:"30",y:"115.15",rx:"4",ry:"4",width:"370.07",height:"14.92"}))},d=function(e){var t=e.events,n=e.page,a=e.pageLimit,r=[];if(e.isLoading)for(var c=0;c<a;c++)r[c]=u.a.createElement("li",{key:c},u.a.createElement(g,null));else r=t.slice((n-1)*a,n*a).map(function(e){return u.a.createElement("li",{key:e.id},u.a.createElement(E,{event:e}))});return u.a.createElement("ul",null,r)},p=function(e){for(var t=e.page,n=e.pageLimit,a=e.totalEvents,r=e.changePage,c=Math.ceil(a/n),i=[],l=function(e){i[e]=u.a.createElement("li",{key:e,className:e===t?"active":""},u.a.createElement("a",{href:"#",onClick:function(){return r(e)}},e))},o=1;o<=c;o++)l(o);return u.a.createElement("ul",{className:"pagination"},u.a.createElement("li",{className:1===t?"hide":""},u.a.createElement("a",{href:"#",onClick:function(){return r(Math.max(1,t-1))}},"<")),i,u.a.createElement("li",{className:t!==c&&a?"":"hide"},u.a.createElement("a",{href:"#",onClick:function(){return r(Math.min(4,t+1))}},">")))},y=function(e){var t=e.eventSearchTerm,n=e.searchEvent;return u.a.createElement("header",null,u.a.createElement("input",{type:"text",placeholder:"Search by event",value:t,onChange:n}))},b=["Dance","Entertainment","Festival","Museums","Music","Theatre"],C=function(e){var t=e.currentCategory,n=e.filterCategory;return u.a.createElement("nav",{className:"nav-categories"},u.a.createElement("h2",null,"Categories"),u.a.createElement("ul",{className:"nav-menu"},b.map(function(e,a){return u.a.createElement("li",{key:a,className:t===e?"active":""},u.a.createElement("a",{href:"#",onClick:function(){return n(e)}},e))})))},S=function(e){var t=e.events,n=e.eventsearchTerm,a=e.currentCategory,r=e.isLoading;if(t.length||r)return null;var c=["No results found"];return n&&c.push(" for ",u.a.createElement("em",{key:"1"},'"',n,'"')),a&&c.push(" in ",u.a.createElement("strong",{key:"2"},a)),c.push("."),u.a.createElement("span",null,c)},k=function(e){var t=e.error,n=e.children;return t?u.a.createElement("p",null,t.message):n},j=function(e){function t(e){var n;return Object(a.a)(this,t),(n=Object(c.a)(this,Object(i.a)(t).call(this,e))).filterEvents=function(e,t,n){return e.filter(function(e){return(!t||e.name.toLowerCase().includes(t))&&(!n||e.categories.includes(n))})},n.sortEvents=function(e){return e.sort(function(e,t){return e.subscriptions.reduce(function(e,t){return e+t.price},0)-t.subscriptions.reduce(function(e,t){return e+t.price},0)})},n.handleCategoryFilter=function(e){n.setState(function(t,a){var r=e===t.currentCategory?"":e;return{eventsFound:n.filterEvents(t.events,t.eventSearchTerm,r),currentCategory:r,page:1}})},n.handleEventSearch=function(e){var t=e.target.value.toLowerCase();n.setState(function(e,a){return{eventsFound:n.filterEvents(e.events,t,e.currentCategory),eventSearchTerm:t,page:1}})},n.handlePagination=function(e){n.setState({page:e})},n.state={events:[],eventsFound:[],page:1,currentCategory:"",eventSearchTerm:"",isLoading:!1,error:null},n.handleEventSearch=n.handleEventSearch.bind(Object(h.a)(Object(h.a)(n))),n.handleCategoryFilter=n.handleCategoryFilter.bind(Object(h.a)(Object(h.a)(n))),n}return Object(l.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),fetch("https://tiagoportfolio.github.io/data/events.json").then(function(e){if(e.ok)return e.json();throw new Error("Something went wrong...")}).then(function(t){var n=e.sortEvents(t);e.setState({events:n,eventsFound:n,isLoading:!1})}).catch(function(t){return e.setState({error:t,isLoading:!1})})}},{key:"render",value:function(){var e=this.state,t=e.eventsFound,n=e.page,a=e.eventSearchTerm,r=e.currentCategory,c=e.isLoading,i=e.error;return u.a.createElement("div",{className:"flex-container"},u.a.createElement(C,{filterCategory:this.handleCategoryFilter,currentCategory:r}),u.a.createElement("section",{className:"events-list"},u.a.createElement(y,{searchEvent:this.handleEventSearch,eventSearchTerm:a}),u.a.createElement(k,{error:i},u.a.createElement(d,{events:t,page:n,pageLimit:3,isLoading:c}),u.a.createElement(S,{events:t,eventSearchTerm:a,currentCategory:r,isLoading:c})),u.a.createElement(p,{page:n,pageLimit:3,totalEvents:t.length,changePage:this.handlePagination})))}}]),t}(o.Component);n.d(t,"default",function(){return w});var w=function(e){function t(){return Object(a.a)(this,t),Object(c.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(l.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return u.a.createElement(j,null)}}]),t}(o.Component);m.a.render(u.a.createElement(w,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.75c55ac3.chunk.js.map